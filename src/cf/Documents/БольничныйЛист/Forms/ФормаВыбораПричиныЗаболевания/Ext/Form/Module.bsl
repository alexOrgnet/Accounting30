
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Элементы.ТаблицаЗаболеваний.РежимВыбора = Истина;
	
	ДатаНачалаСобытия = Параметры.ДатаНачалаСобытия;
	
	ТаблицаЗаболеваний.Загрузить(Документы.БольничныйЛист.ПредставлениеПричиныЗаболевания(ДатаНачалаСобытия));
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаЗаболеванийВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	ЭтотОбъект.Закрыть(СформироватьВозвращаемыеПараметры(ТаблицаЗаболеваний[ВыбраннаяСтрока]));
	
КонецПроцедуры

&НаКлиенте
Процедура ТаблицаЗаболеванийВыборЗначения(Элемент, Значение, СтандартнаяОбработка)
	
	ЭтотОбъект.Закрыть(СформироватьВозвращаемыеПараметры(Элементы.ТаблицаЗаболеваний.ТекущиеДанные));
	
КонецПроцедуры

&НаКлиенте
Функция СформироватьВозвращаемыеПараметры(ТекущиеДанные)
	
	СтруктураПараметров = Новый Структура("Наименование, ПричинаНетрудоспособности, СлучайУходаЗаБольнымРебенком, КодПричиныНетрудоспособности");
	ЗаполнитьЗначенияСвойств(СтруктураПараметров, ТекущиеДанные);
	
	Возврат СтруктураПараметров;
	
КонецФункции
