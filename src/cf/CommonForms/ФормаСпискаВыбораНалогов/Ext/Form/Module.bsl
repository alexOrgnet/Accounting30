
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Период           = Параметры.Период;
	ТолькоДопустимые = Параметры.ТолькоДопустимые;
	
	ЗаполнитьТаблицуНалогов();
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Отметить(Команда)
	
	ОбработатьОтметку(Истина);
	
КонецПроцедуры

&НаКлиенте
Процедура СнятьОтметку(Команда)
	
	ОбработатьОтметку(Ложь);
	
КонецПроцедуры

&НаКлиенте
Процедура Выбрать(Команда)
	
	СписокЗаполнения = Новый СписокЗначений;
	
	Для Каждого СтрокаТаблицы Из ВидыНалоговИПлатежейВБюджет Цикл
		Если СтрокаТаблицы.Отметка Тогда
			СписокЗаполнения.Добавить(СтрокаТаблицы.Ссылка);
		КонецЕсли;
	КонецЦикла;
	
	Закрыть(СписокЗаполнения);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ЗаполнитьТаблицуНалогов()
	
	ВидыНалоговИПлатежейВБюджет.Загрузить(
		ЕдиныйНалоговыйСчет.ТаблицаНалоговДляАвтоматическогоЗаполнения(ТолькоДопустимые, Период));
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработатьОтметку(Отметка)
	
	Для Каждого СтрокаТаблицы Из ВидыНалоговИПлатежейВБюджет Цикл
		СтрокаТаблицы.Отметка = Отметка;
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти

