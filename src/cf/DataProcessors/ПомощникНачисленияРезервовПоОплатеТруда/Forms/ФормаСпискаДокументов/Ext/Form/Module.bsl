#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Объект.Организация     = Параметры.Организация;
	Объект.МесяцНачисления = Параметры.МесяцНачисления;
	
	ВедетсяУчетРезервовОтпусков = УчетЗарплаты.ВедетсяУчетРезервовОтпусков(Объект.Организация, Объект.МесяцНачисления);
	ВедетсяУчетРезервовПремий   = УчетЗарплаты.ВедетсяУчетРезервовПремий(Объект.Организация, Объект.МесяцНачисления);
	РезервыОтпусковАрхивные     = ВедетсяУчетРезервовОтпусков
		И Не УчетЗарплаты.ЕстьНастройкиРезерваОтпусков(Объект.Организация, Объект.МесяцНачисления);
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	ПараметрыФормыСписка = Новый Структура;
	ПараметрыФормыСписка.Вставить("Организация",       Объект.Организация);
	ПараметрыФормыСписка.Вставить("МесяцНачисления",   Объект.МесяцНачисления);
	ПараметрыФормыСписка.Вставить("ПериодРегистрации", Объект.МесяцНачисления);
	
	Если РезервыОтпусковАрхивные И Не ВедетсяУчетРезервовПремий Тогда
		Отказ = Истина;
		ОткрытьФорму("Документ.НачислениеОценочныхОбязательствПоОтпускам.Форма.ФормаСписка", ПараметрыФормыСписка, ВладелецФормы);
	ИначеЕсли Не РезервыОтпусковАрхивные Тогда
		Отказ = Истина;
		ОткрытьФорму("Документ.РезервыПоОплатеТруда.Форма.ФормаСписка", ПараметрыФормыСписка, ВладелецФормы);
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
