<?xml version="1.0" encoding="UTF-8"?>
<Form xmlns="http://v8.1c.ru/8.3/xcf/logform" xmlns:app="http://v8.1c.ru/8.2/managed-application/core" xmlns:cfg="http://v8.1c.ru/8.1/data/enterprise/current-config" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcssch="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:ent="http://v8.1c.ru/8.1/data/enterprise" xmlns:lf="http://v8.1c.ru/8.2/managed-application/logform" xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows" xmlns:xr="http://v8.1c.ru/8.3/xcf/readable" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.16">
	<Title>
		<v8:item>
			<v8:lang>ru</v8:lang>
			<v8:content>Ответы</v8:content>
		</v8:item>
	</Title>
	<Width>80</Width>
	<WindowOpeningMode>LockOwnerWindow</WindowOpeningMode>
	<AutoTitle>false</AutoTitle>
	<VerticalScroll>useIfNecessary</VerticalScroll>
	<AutoCommandBar name="ФормаКоманднаяПанель" id="-1">
		<Autofill>false</Autofill>
	</AutoCommandBar>
	<Events>
		<Event name="NotificationProcessing">ОбработкаОповещения</Event>
		<Event name="OnOpen">ПриОткрытии</Event>
		<Event name="OnCreateAtServer">ПриСозданииНаСервере</Event>
	</Events>
	<ChildItems>
		<Table name="Ответы" id="1">
			<ReadOnly>true</ReadOnly>
			<ChangeRowSet>false</ChangeRowSet>
			<UseAlternationRowColor>true</UseAlternationRowColor>
			<EnableStartDrag>true</EnableStartDrag>
			<FileDragMode>AsFile</FileDragMode>
			<DataPath>Ответы</DataPath>
			<SearchStringLocation>None</SearchStringLocation>
			<ViewStatusLocation>None</ViewStatusLocation>
			<SearchControlLocation>None</SearchControlLocation>
			<AutoRefresh>false</AutoRefresh>
			<AutoRefreshPeriod>60</AutoRefreshPeriod>
			<Period>
				<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
				<v8:startDate>0001-01-01T00:00:00</v8:startDate>
				<v8:endDate>0001-01-01T00:00:00</v8:endDate>
			</Period>
			<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
			<RestoreCurrentRow>false</RestoreCurrentRow>
			<TopLevelParent xsi:nil="true"/>
			<ShowRoot>true</ShowRoot>
			<AllowRootChoice>false</AllowRootChoice>
			<UpdateOnDataChange>Auto</UpdateOnDataChange>
			<AllowGettingCurrentRowURL>true</AllowGettingCurrentRowURL>
			<ContextMenu name="ОтветыКонтекстноеМеню" id="2"/>
			<AutoCommandBar name="ОтветыКоманднаяПанель" id="3">
				<Autofill>false</Autofill>
			</AutoCommandBar>
			<ExtendedTooltip name="ОтветыРасширеннаяПодсказка" id="4"/>
			<SearchStringAddition name="ОтветыСтрокаПоиска" id="5">
				<AdditionSource>
					<Item>Ответы</Item>
					<Type>SearchStringRepresentation</Type>
				</AdditionSource>
				<ContextMenu name="ОтветыСтрокаПоискаКонтекстноеМеню" id="8"/>
				<ExtendedTooltip name="ОтветыСтрокаПоискаРасширеннаяПодсказка" id="9"/>
			</SearchStringAddition>
			<ViewStatusAddition name="ОтветыСостояниеПросмотра" id="10">
				<AdditionSource>
					<Item>Ответы</Item>
					<Type>ViewStatusRepresentation</Type>
				</AdditionSource>
				<ContextMenu name="ОтветыСостояниеПросмотраКонтекстноеМеню" id="13"/>
				<ExtendedTooltip name="ОтветыСостояниеПросмотраРасширеннаяПодсказка" id="14"/>
			</ViewStatusAddition>
			<SearchControlAddition name="ОтветыУправлениеПоиском" id="15">
				<AdditionSource>
					<Item>Ответы</Item>
					<Type>SearchControl</Type>
				</AdditionSource>
				<ContextMenu name="ОтветыУправлениеПоискомКонтекстноеМеню" id="18"/>
				<ExtendedTooltip name="ОтветыУправлениеПоискомРасширеннаяПодсказка" id="19"/>
			</SearchControlAddition>
			<Events>
				<Event name="Selection">ОтветыВыбор</Event>
				<Event name="BeforeAddRow">ОтветыПередНачаломДобавления</Event>
				<Event name="BeforeDeleteRow">ОтветыПередУдалением</Event>
				<Event name="BeforeRowChange">ОтветыПередНачаломИзменения</Event>
			</Events>
			<ChildItems>
				<PictureField name="ОтветыПометкаУдаления" id="38">
					<DataPath>Ответы.ПометкаУдаления</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content> </v8:content>
						</v8:item>
					</Title>
					<Width>1</Width>
					<HorizontalStretch>false</HorizontalStretch>
					<ValuesPicture>
						<xr:Ref>CommonPicture.ПиктограммыОтчетов</xr:Ref>
						<xr:LoadTransparent>true</xr:LoadTransparent>
					</ValuesPicture>
					<FileDragMode>AsFile</FileDragMode>
					<ContextMenu name="ОтветыПометкаУдаленияКонтекстноеМеню" id="39"/>
					<ExtendedTooltip name="ОтветыПометкаУдаленияРасширеннаяПодсказка" id="40"/>
				</PictureField>
				<LabelField name="ОтветыДата" id="23">
					<DataPath>Ответы.Дата</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Дата</v8:content>
						</v8:item>
					</Title>
					<Width>8</Width>
					<HorizontalStretch>false</HorizontalStretch>
					<ContextMenu name="ОтветыДатаКонтекстноеМеню" id="24"/>
					<ExtendedTooltip name="ОтветыДатаРасширеннаяПодсказка" id="25"/>
				</LabelField>
				<LabelField name="ОтветыНаименование" id="32">
					<DataPath>Ответы.Наименование</DataPath>
					<ContextMenu name="ОтветыНаименованиеКонтекстноеМеню" id="33"/>
					<ExtendedTooltip name="ОтветыНаименованиеРасширеннаяПодсказка" id="34"/>
				</LabelField>
				<PictureField name="ОтветыЕстьКритическиеОшибкиОтправки" id="50">
					<DataPath>Ответы.ЕстьКритическиеОшибкиОтправки</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content> </v8:content>
						</v8:item>
					</Title>
					<ValuesPicture>
						<xr:Ref>CommonPicture.ПризнакНаличияКритическойОшибки</xr:Ref>
						<xr:LoadTransparent>true</xr:LoadTransparent>
					</ValuesPicture>
					<ContextMenu name="ОтветыЕстьКритическиеОшибкиОтправкиКонтекстноеМеню" id="51"/>
					<ExtendedTooltip name="ОтветыЕстьКритическиеОшибкиОтправкиРасширеннаяПодсказка" id="52"/>
				</PictureField>
				<LabelField name="ОтветыСтатусОтправки" id="47">
					<DataPath>Ответы.СтатусОтправки</DataPath>
					<CellHyperlink>true</CellHyperlink>
					<Width>23</Width>
					<Hiperlink>true</Hiperlink>
					<ContextMenu name="ОтветыСтатусОтправкиКонтекстноеМеню" id="48"/>
					<ExtendedTooltip name="ОтветыСтатусОтправкиРасширеннаяПодсказка" id="49"/>
				</LabelField>
				<LabelField name="ОтветыКомментарий" id="53">
					<DataPath>Ответы.Комментарий</DataPath>
					<ContextMenu name="ОтветыКомментарийКонтекстноеМеню" id="54"/>
					<ExtendedTooltip name="ОтветыКомментарийРасширеннаяПодсказка" id="55"/>
				</LabelField>
			</ChildItems>
		</Table>
	</ChildItems>
	<Attributes>
		<Attribute name="Объект" id="1">
			<Type>
				<v8:Type>cfg:DataProcessorObject.ДокументооборотСКонтролирующимиОрганами</v8:Type>
			</Type>
			<MainAttribute>true</MainAttribute>
		</Attribute>
		<Attribute name="Ответы" id="2">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ответы</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>cfg:DynamicList</v8:Type>
			</Type>
			<UseAlways>
				<Field>~Ответы.СостояниеСдачиОтчетности</Field>
				<Field>Ответы.Ссылка</Field>
			</UseAlways>
			<Settings xsi:type="DynamicList">
				<ManualQuery>true</ManualQuery>
				<DynamicDataRead>false</DynamicDataRead>
				<QueryText>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОтветСтрахователяНаТребованиеПроверкиФСС.Дата КАК Дата,
	ОтветСтрахователяНаТребованиеПроверкиФСС.Ссылка КАК Ссылка,
	МАКСИМУМ(ОшибкиЛогическогоКонтроля.СодержимоеОшибки) КАК ЕстьКритическиеОшибкиОтправки,
	ВЫБОР
		КОГДА ОтветСтрахователяНаТребованиеПроверкиФСС.ДатаОтправкиВФСС &gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА "Отправлено в СФР"
		ИНАЧЕ "Не отправлено"
	КОНЕЦ КАК Статус,
	МАКСИМУМ(ВЫРАЗИТЬ(ОтветСтрахователяНаТребованиеПроверкиФСС.Комментарий КАК СТРОКА(250))) КАК Комментарий,
	ОтветСтрахователяНаТребованиеПроверкиФСС.Основание КАК Требование,
	ОтветСтрахователяНаТребованиеПроверкиФСС.ПометкаУдаления КАК ПометкаУдаления,
	ВЫБОР
		КОГДА ОтветСтрахователяНаТребованиеПроверкиФСС.ТипСообщенияОтвета = 313
			ТОГДА "Ответ страхователя на запрос документов по камеральной проверке"
		ИНАЧЕ "Ответ страхователя на запрос документов по выездной проверке"
	КОНЕЦ КАК Наименование
ПОМЕСТИТЬ ВТОтветы
ИЗ
	Документ.ОтветСтрахователяНаТребованиеПроверкиФСС КАК ОтветСтрахователяНаТребованиеПроверкиФСС
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ВходящийДокументСЭДОФСС.ОшибкиЛогическогоКонтроля КАК ОшибкиЛогическогоКонтроля
		ПО ОтветСтрахователяНаТребованиеПроверкиФСС.Основание = ОшибкиЛогическогоКонтроля.Ссылка
ГДЕ
	ОтветСтрахователяНаТребованиеПроверкиФСС.Основание = &amp;Основание

СГРУППИРОВАТЬ ПО
	ОтветСтрахователяНаТребованиеПроверкиФСС.Дата,
	ОтветСтрахователяНаТребованиеПроверкиФСС.Ссылка,
	ВЫБОР
		КОГДА ОтветСтрахователяНаТребованиеПроверкиФСС.ДатаОтправкиВФСС &gt; ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА "Отправлено в СФР"
		ИНАЧЕ "Не отправлено"
	КОНЕЦ,
	ОтветСтрахователяНаТребованиеПроверкиФСС.Основание,
	ОтветСтрахователяНаТребованиеПроверкиФСС.ПометкаУдаления,
	ВЫБОР
		КОГДА ОтветСтрахователяНаТребованиеПроверкиФСС.ТипСообщенияОтвета = 313
			ТОГДА "Ответ страхователя на запрос документов по камеральной проверке"
		ИНАЧЕ "Ответ страхователя на запрос документов по выездной проверке"
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВТОтветы.Дата КАК Дата,
	ВТОтветы.Ссылка КАК Ссылка,
	ВТОтветы.ЕстьКритическиеОшибкиОтправки КАК ЕстьКритическиеОшибкиОтправки,
	ВТОтветы.Статус КАК Статус,
	ВТОтветы.Комментарий КАК Комментарий,
	СУММА(ВЫБОР
			КОГДА УведомленияОПриемеОтказе.Статус = 2
				ТОГДА УведомленияОПриемеОтказе.КоличествоДокументовВоВложении
			ИНАЧЕ 0
		КОНЕЦ) КАК Отказано,
	СУММА(ВЫБОР
			КОГДА УведомленияОПриемеОтказе.Статус = 1
				ТОГДА УведомленияОПриемеОтказе.КоличествоДокументовВоВложении
			ИНАЧЕ 0
		КОНЕЦ) КАК Принято,
	ВТОтветы.ПометкаУдаления КАК ПометкаУдаления,
	ВТОтветы.Наименование КАК Наименование
ПОМЕСТИТЬ ВТСтатус
ИЗ
	ВТОтветы КАК ВТОтветы
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ВходящийДокументСЭДОФСС.УведомленияОПриемеОтказе КАК УведомленияОПриемеОтказе
		ПО ВТОтветы.Ссылка = УведомленияОПриемеОтказе.ОтветНаТребованиеФСС

СГРУППИРОВАТЬ ПО
	ВТОтветы.Дата,
	ВТОтветы.Ссылка,
	ВТОтветы.ЕстьКритическиеОшибкиОтправки,
	ВТОтветы.Статус,
	ВТОтветы.Комментарий,
	ВТОтветы.ПометкаУдаления,
	ВТОтветы.Наименование
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТСтатус.Дата КАК Дата,
	ВТСтатус.Ссылка КАК Ссылка,
	ВТСтатус.ЕстьКритическиеОшибкиОтправки КАК ЕстьКритическиеОшибкиОтправки,
	ВЫБОР
		КОГДА ВТСтатус.Принято = 0
				И ВТСтатус.Отказано = 0
			ТОГДА ВТСтатус.Статус
		КОГДА ВТСтатус.Принято &gt; 0
				И ВТСтатус.Отказано &gt; 0
			ТОГДА "Принято частично"
		КОГДА ВТСтатус.Принято = 0
				И ВТСтатус.Отказано &gt; 0
			ТОГДА "Не принято"
		КОГДА ВТСтатус.Принято &gt; 0
				И ВТСтатус.Отказано = 0
			ТОГДА "Принято"
	КОНЕЦ КАК СтатусОтправки,
	ВТСтатус.Комментарий КАК Комментарий,
	ВТСтатус.ПометкаУдаления КАК ПометкаУдаления,
	ВТСтатус.Наименование КАК Наименование
ИЗ
	ВТСтатус КАК ВТСтатус
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ ВТСтатус
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ ВТОтветы</QueryText>
				<ListSettings>
					<dcsset:filter>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>dfcece9d-5077-440b-b6b3-45a5cb4538eb</dcsset:userSettingID>
					</dcsset:filter>
					<dcsset:order>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>88619765-ccb3-46c6-ac52-38e9c992ebd4</dcsset:userSettingID>
					</dcsset:order>
					<dcsset:conditionalAppearance>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>СтатусОтправки</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">СтатусОтправки</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:string">Не отправлено</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:ЦветНеподдерживаемойОтправкиБРО</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>СтатусОтправки</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">СтатусОтправки</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:string">Отправлено в СФР</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:ЦветНезавершившейсяОтправкиБРО</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>СтатусОтправки</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">СтатусОтправки</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:string">Принято частично</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:ЦветОшибкиОтправкиБРО</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>СтатусОтправки</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">СтатусОтправки</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:string">Не принято</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:ЦветОшибкиОтправкиБРО</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>СтатусОтправки</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">СтатусОтправки</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:string">Принято</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:ЦветУспешнойОтправкиБРО</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>Дата</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter/>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>Формат</dcscor:parameter>
									<dcscor:value xsi:type="v8:LocalStringType">
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>ДФ=dd.MM.yyyy</v8:content>
										</v8:item>
									</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>b75fecce-942b-4aed-abc9-e6a02e460fb3</dcsset:userSettingID>
					</dcsset:conditionalAppearance>
					<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
					<dcsset:itemsUserSettingID>911b6018-f537-43e8-a417-da56b22f9aec</dcsset:itemsUserSettingID>
				</ListSettings>
			</Settings>
		</Attribute>
	</Attributes>
</Form>