#Область СлужебныйПрограммныйИнтерфейс

Процедура УстановитьВидимостьБаннераСПредупреждениемАУСН(Форма) Экспорт
	
	Объект = Форма.Объект;
	
	Форма.Элементы.ГруппаПредупреждениеАУСН.Видимость =
		УправлениеПредупреждениямиАУСНВызовСервера.ПоказыватьПредупреждениеАУСН(Объект);
	
КонецПроцедуры

Процедура ЗакрытьПредупреждениеАУСН(Форма) Экспорт

	КлючСохранения = КлючСохраненияОбъекта(Форма.Объект);
	
	УправлениеПредупреждениямиАУСНВызовСервера.ЗакрытьПредупреждениеАУСН(КлючСохранения);
	УстановитьВидимостьБаннераСПредупреждениемАУСН(Форма);
	
КонецПроцедуры

Функция КлючСохраненияОбъекта(Объект) Экспорт

	Если ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.СведенияОЗастрахованныхЛицахСЗВ_М") Тогда
		КлючСохранения = СтрШаблон(ШаблонКлючаХраненияСостоянияПоясненияЗадачи(), "СЗВ_М");
	ИначеЕсли ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.СведенияОСтраховомСтажеЗастрахованныхЛицСЗВ_СТАЖ") Тогда
		КлючСохранения = СтрШаблон(ШаблонКлючаХраненияСостоянияПоясненияЗадачи(), "СЗВ_СТАЖ");
	ИначеЕсли ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.УведомлениеОПравеНаИмущественныйВычетДляНДФЛ") Тогда
		КлючСохранения = "Вычеты";
	Иначе
		КлючСохранения = "";
	КонецЕсли;
	
	Возврат КлючСохранения;
	
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Функция ШаблонКлючаХраненияСостоянияПоясненияЗадачи()

	Возврат "Видимость_%1";

КонецФункции

#КонецОбласти