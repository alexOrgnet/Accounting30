#Область ПрограммныйИнтерфейс

Функция ЗагрузкаИзОФДДоступна() Экспорт
	ЕстьПравоРаботыСОФД = 
		ОФДСлужебный.ПолучениеДанныхИзОФДДоступно() И ЕстьНастройкиКассОФД()
		ИЛИ ОФДСлужебный.НастройкаПодключенияДоступна() И ПравоДоступа("Использование", Метаданные.Обработки.ЗагрузкаИзОФД);
		
	Возврат  ЕстьПравоРаботыСОФД;
КонецФункции

Функция ЕстьНастройкиКассОФД() Экспорт
	Запрос = Новый Запрос;
	
	Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	ИСТИНА КАК ЕстьНастройкиКассОФД
	|ИЗ
	|	РегистрСведений.НастройкиКассОФД КАК НастройкиКассОФД
	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ОфлайнОборудование КАК ОфлайнОборудование
	|		ПО НастройкиКассОФД.Касса = ОфлайнОборудование.Ссылка
	|ГДЕ
	|	ОфлайнОборудование.ПометкаУдаления = ЛОЖЬ";
	
	УстановитьПривилегированныйРежим(Истина);
	Возврат НЕ Запрос.Выполнить().Пустой();
КонецФункции

#КонецОбласти