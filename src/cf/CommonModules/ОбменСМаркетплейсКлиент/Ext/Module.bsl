
#Область СлужебныйПрограммныйИнтерфейс

Процедура ПрочитатьДанныеОтчетаВСтруктуру(ПараметрыОтчета, Форма) Экспорт 
	
	Результат = ОбменСМаркетплейсВызовСервера.ПодготовитьДанныеКЗагрузкеНаСервере(ПараметрыОтчета, Форма.УникальныйИдентификатор);
	Форма.ИдентификаторЗадания = Результат.ИдентификаторЗадания;
	Форма.АдресХранилища       = Результат.АдресХранилища;
	Если Не Результат.ЗаданиеВыполнено Тогда
		
		ДлительныеОперацииКлиент.ИнициализироватьПараметрыОбработчикаОжидания(Форма.ПараметрыОбработчикаОжидания);
		Форма.ПодключитьОбработчикОжидания("Подключаемый_ОжиданиеКонвертацииФайла", 1, Истина);
		Форма.ФормаДлительнойОперации = ДлительныеОперацииКлиент.ОткрытьФормуДлительнойОперации(Форма, Форма.ИдентификаторЗадания);
		
	Иначе
		
		ЭлектронноеВзаимодействиеБПКлиент.НачатьЗагрузкуИзСтруктуры(Форма.АдресХранилища, Форма.УникальныйИдентификатор);
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
